# git使用笔记

**首先感谢谢大佬们的知识传授，下面是个[小甲鱼视屏传送门](https://www.bilibili.com/video/BV1Vs411876L?from=search&seid=5848744772402899711)**;

## Git 的基础设置

1. 设置用户名： 
   - git config --global user-name
   - my username:[201983290498](https://github.com/201983290498)
   - [password](ln20010315)

2. 设置用户名的邮箱：
   - git config --global user-email
   - [QQ邮箱](https://10233668958@qq.com)  

3. 查看当前的设置状态： ‘git --list’

----

## Git的使用流程

- git分为三个仓库：**工作区，暂存区，Git Repository仓库**

- > git status //*可以了解当前各个仓库的状态，会对比已经提交的文件进行对比，不一样的时候会提醒更新，同时每次*

------

### 仓库的管理

1. 创建新文件夹  

> mkdir 文件名  

2. 仓库初始化

> git init 

3. 进入文件夹

> cd `文件名.扩展名`   返回上一层目录`cd ..`   

4. 查看当前的操作文件位置

> pwd  

5. 编辑文件 `vi`
6. 修改文件以后提交到暂存区

> git add 文件名.扩展名

7. 提交到仓库

> git commit -m "每次文件更新的描述"  

8. git status 查看提交状态
9. 删除文件

> git rm 在本地仓库删除文件

10. **那么本地的仓库如何提交到远程仓库呢？**

> git push 向远程仓库提交文件，这个操作会跟踪当前仓库和远程仓库的不同，进行更新

11. 将远程的文件复制到当前仓库进行仓做

> git clone 仓库地址(一般在github的仓库的右上角的复制的按钮)，

------

### 关于vim的使用方式

   **vim编辑器可以写各种文件，有一些基础的操作**

- ==i== 插入 
- ==ESC== 返回，退出插入的编辑模式
- **shift + zz** 退出编辑器
- **cat查看修改文件**
- ==x== 在命令行删除

------

### 如何搭建个人站点

**搭建步骤**

1. 创建个人站点/-/> (新建仓库)仓库名必须是：用户名.github.io
2. 在仓库下新建一个网站页面文件 `index.html`的文件，可能会遇到打开网页找不到这个网站，我们需要把其他没有的文件先删掉
3. 可以自动建立网站，在设置里面
   **值得注意的是，github pages 仅仅支持静态页面**

-----

 **每个仓库都能有一个主页**
*[仓库的网址](https://用户名.github.io/仓库名)*

1. 进入项目主页，点击setting
2. 在setting页面中，点击==lanch automatic page generator== 来自动生成主题页面
3. 页面信息可以自动修改

-----

## git的高端操作的理论基础    

git分为三个文件，**工作区，缓存区，仓库**，当前文件只有在仓库中才会被跟踪，当不相同的时候会提醒你上传，当完成一次操作的时候，或者一个版本的更新到时候记得检查一下工作区的文件是否完成上传，利用==git status==命令将查询。前面已经简单的讲述了如何从**本地工作区文件上传到缓存在，然后到仓库，远程仓库**一系列过程，那么如何返回一些文件呢，或者说我们如何寻找以前的文件呢？git的强大功能不仅仅是他可以把已经上交的文件返回回来，更重要的是，他可以查看**以前的所有版本**，为我们程序开发提供了巨大的便捷，下面我们介绍一个新概念快照 

### 快照

​     **定义：** 每一个以前的**版本**被称为快照，每次修改上传到仓库，仓库都会见整个文件复制下来，放到一个新的文件夹里面，以前的文件被保存下来，用**独一无二的十多位ID**进行分别，一般我们只要输入 前五位ID号 可以查找以前的版本。 

   **查看历史快照**

​         我们通过命令行` git log `可以查看当前的文件记录，利用` git reflog `可以查看以前的快照记录。当我们滚动快照到前一个版本时，当前的操作指针会跳到上一个版本去，同时上一个版本的ID会被隐匿，起来我们如果想回去，就可以通过这个命令查询。

### 快照到操作

  **==git rest==的超强功能**
  
  `git rest`是用来滚动快照的，帮助你回到前面的仓库状态下面有几个他的不同用法；

   - `git rest Head~` 回到上一步操作的仓库，默认状态（完整的代码是`git rest --mixed Head~`）是将暂存区和仓库回到之前的状态，工作区的文件不会被覆盖，适用于有bug的版本*很多文件*被你传送到了仓库里，如今发现了，修改好了就可以回到最初的状态重新修改，**其中的的*~*的个数代表往回走的快照数** 。
    - `git rest --soft Head~` 只将仓库变回上一个快照的样子，即撤回上一次有缓存区到仓库的操作
    - `git rest --hard Head~` 三个区域回复到上一个状态，这个操作很危险，因为在工作区修改的没上传的文件会直接丢失，无法查找，慎重使用。
    - `git rest <u>快照ID</u>`
       **再次提醒，每一个快照都有一个文件，而快照的滚动可以看做是指针的滚动我们每次进行快照处理的时候最后先将工作区的文件进行上传到仓库，在操作，查看状态时*红色*代表缓存区和工作区的文件有区别，*绿色*代表缓存区和仓库之间的文件存在区别**

### 快照这一强大工具

我们修改了快照然而很多时候一次无法将**两个版本同时挑出来**，同时我们在debug的时候发现文件很长，往往一一自己查看修改特别费时，git十分强大，为我们所有可能的问题早已准备好了十分好用的工具，`diff`，下面是一些操作；

- `git diff` 比较工作区和缓存区的文件差异，下面在是一些对于一些结果的解读
  - ==+== 代表的时新增处，==-== 代表的是删除的地方。 

- 首先会出现比较的两个的名字

- 从哪一行两篇文章的哪一行开始下面几行发生了变化，对应的在另一个文件的相应位置。 

- ==j，k==向上或者向下一行；==f,B==上一页，下一页；==u,d==上半页，下半页；==g,G==第一行，最后一行；<u>x行数</u>g 转换到第x行。

- **这里有待改进** 搜索命令/从上向下搜素，？从下向上搜索，`/?`+关键字，==n,N==分别代表着下一个，和上一个。**注意命令行大写小敏感**。

- **历史快照的对比** `git diff <u>快照ID</u>  <u>快照ID</u>`。

- **当前快照和历史快照对比** `git diff <u>快照ID</u>`.

- **缓存区与仓库对比** `git diff --cashed`.

- **修改最有一次操作** 一般是面对漏添加文件，或者说明不准确，不够全面，我们不想多创建一个快照可以执行 `git --amend commit 文件名`**这里不太肯定**, 或者`git diff --cash -m “重新说明”`;

-----

## 沟通缓存区和操作去的工具checkout

    我们有时候删错了文件，或者想撤回上一次由工作区到缓存区的操作，那么如何进行呢?其实 checkout的功能不仅仅简单的**撤销一级操作**，还有**分支**一处多次利用

--------

### checkout的撤销操作

> 一带而过，git checkout --<文件名> 撤销对这个文件的上一次以及操作

----

### checkout的分支功能

> **这里不讲，下面的分支细讲**

-----

## git的其他一些常用的操作

- 一次性添加所有文件`git add *`

- `git rm`的详细介绍
  - `git rm 文件名` 删除工作目录以及暂存区的文件，仓库里面的文件不影响。
  - `git rm --cash` 只删除缓存区文件。 
  - `git rm -f` 暴力删除当前快照下工作目录，缓存区，仓库的文件。

- 给文件重命名 `git mv 当前文件名 未来文件名` 记得要提交记录

------

## Git多线进程的分支系统

  我们先来介绍一下理论系统，git的分支系统非常强大，一般得处理器为了在一个app软件开发另外的分支，通常都是将整个程序拷贝下来，重新加入分支的地方，这样非常低效，导致很慢，git的强大之处就在于他类似运用了指针的操作，之前我们提及过快照的存储方式特别麻烦，整个版本重新存储，空间消耗比较大，然而在进行分支系统的时候他会将开辟第二个操作的分支的指针，然后直接指向要分支的那个版本文件，这样的设计节省了大量的时间，而且之前提及的版本快照的滚动也是文件储存的好处。下面我们来讲讲分支。
  下面先接受几个基础的命令行。

  - **创建分支** `git branch 分支名` 一开始，第二个指针和master指针重合。 
 
 - `git checkout 分支名` 切换要操作的指针
 
 - `git log --decorate (--oneline --graph --all)` 简单的显示所有分支以及他们之间的关系。几个因为的意思分别是，显示指针，每一个快照仅仅简要的一行表示， 表示为简单的图表，所有的快照信息。
 
 - **合并分支** `git merge 分支名` (可能会发发生冲突，同名，同文件之类的，所以我们要学mv的操作)。
 
 - **删除分支** `git branch -d(--delete) 分支名` 删除指针，**如果没合并的额话会怎么样呢？是不是会丢失这个分支**
 
 - **匿名分支** 会丢失找不到的，一般用来无关大雅的测验。用`git checkout Head~` 这个就是新指针回到上一个快照，与`git rest Head~` 很不同，**不影响master指针**。
